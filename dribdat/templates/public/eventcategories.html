{% extends "layout.html" %}
{% import "macros/_event.html" as misc %}

{% block page_title %}Projects by category{% endblock %}

{% block body_class %}eventcategories-page{% endblock %}

{% block content %}
<h1 class="huge">Categories</h1>

  <a name="steps"></a>
  <div class="list-stages">
  {% for category in steps %}
    <div category-id="{{category.id}}" class="row step category-container"
         style="border-top:5px solid {{category.logo_color}}">

      <h3 class="title">{{ category.name }}</h3>
      <p class="subtitle">
        {{ category.description|onebox|markdown|safe }}
      </p>
      <hr>

      {% if category.projects %}
      <div class="profile-projects honeycomb">
          <div class="row ibws-fix">
          {% for project in category.projects %}
              {{ misc.render_project_hexagon(project) }}
          {% endfor %}
          </div>
      </div><!-- /profile-projects -->
      {% endif %}

    </div>
  {% endfor %}
  {% if projects %}
    <div class="row step category-container"
         style="border-top:5px dotted grey">

      <h3 class="title">/etc</h3>
      <hr>

      <div class="profile-projects honeycomb">
          <div class="row ibws-fix">
          {% for project in projects %}
              {{ misc.render_project_hexagon(project) }}
          {% endfor %}
          </div>
      </div><!-- /profile-projects -->
    </div>
  {% endif %}
  </div>

  <center class="mt-5">
    <a class="btn btn-light btn-lg" href="{{ url_for('public.event', event_id=current_event.id) }}">
      <i class="fa fa-arrow-left" aria-hidden="true"></i>
      {{ current_event.name }}</a>
  </center>

{% endblock %}
